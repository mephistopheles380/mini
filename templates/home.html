{% extends "base.html" %}

{% block content %}
<!-- Single Dropdown Filter Section -->
<div class="search-section mb-4">
    <div class="row align-items-center">
        <div class="col-md-4">
            <div class="search-box">
                <input type="text" class="form-control" placeholder="Search books, authors, or ISBN...">
                <i class="fas fa-search search-icon"></i>
            </div>
        </div>
        <div class="col-md-4">
            <div class="dropdown filter-dropdown">
                <button class="btn btn-outline-primary dropdown-toggle w-100" type="button" data-bs-toggle="dropdown">
                    <i class="fas fa-filter me-2"></i>Filter Books
                </button>
                <div class="dropdown-menu">
                    <div class="p-3">
                        <h6 class="mb-3">Filter Options</h6>
                        <div class="mb-3">
                            <label class="form-label">Category</label>
                            <select class="form-select">
                                <option value="">All Categories</option>
                                <option>Fiction</option>
                                <option>Non-Fiction</option>
                                <option>Academic</option>
                                <option>Children's Books</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Genre</label>
                            <select class="form-select">
                                <option value="">All Genres</option>
                                <option>Mystery</option>
                                <option>Romance</option>
                                <option>Sci-Fi</option>
                                <option>Fantasy</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Language</label>
                            <select class="form-select">
                                <option value="">All Languages</option>
                                <option>English</option>
                                <option>Hindi</option>
                                <option>Tamil</option>
                                <option>Telugu</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Reading Level</label>
                            <select class="form-select">
                                <option value="">All Levels</option>
                                <option>Beginner</option>
                                <option>Intermediate</option>
                                <option>Advanced</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Rating</label>
                            <select class="form-select">
                                <option value="">Any Rating</option>
                                <option>4.5 & Above</option>
                                <option>4.0 & Above</option>
                                <option>3.5 & Above</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Format</label>
                            <select class="form-select">
                                <option value="">All Formats</option>
                                <option>eBook</option>
                                <option>PDF</option>
                                <option>Audio Book</option>
                            </select>
                        </div>
                        <div class="d-flex justify-content-between mt-4">
                            <button class="btn btn-secondary" type="button">Reset</button>
                            <button class="btn btn-primary" type="button">Apply Filters</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Popular Categories Section -->
<section class="mb-5">
    <h2 class="section-title">Popular Categories</h2>
    <div class="category-chips">
        <a href="#" class="category-chip">Best Sellers</a>
        <a href="#" class="category-chip">New Releases</a>
        <a href="#" class="category-chip">Award Winners</a>
        <a href="#" class="category-chip">Most Read</a>
        <a href="#" class="category-chip">Editor's Choice</a>
    </div>
</section>

<!-- Trending Now Section -->
<section class="mb-5">
    <h2 class="section-title">Trending Now</h2>
    <div class="books-grid">
        {% for book in books[:4] %}
        <div class="book-card">
            <div class="book-badge">Trending</div>
            <img src="{{ book.image }}" alt="{{ book.title }}">
            <h3>{{ book.title }}</h3>
            <p class="author">{{ book.author }}</p>
            <div class="book-meta">
                <span class="badge bg-primary">{{ book.genre }}</span>
                <span class="rating">
                    <i class="fas fa-star"></i> 4.5
                </span>
            </div>
        </div>
        {% endfor %}
    </div>
</section>

<!-- Popular Authors Section -->
<section class="mb-5">
    <h2 class="section-title">Popular Authors</h2>
    <div class="authors-carousel">
        {% for author in popular_authors %}
        <div class="author-card">
            <img src="{{ author.image }}" alt="{{ author.name }}" class="author-image">
            <h4>{{ author.name }}</h4>
            <p>{{ author.books_count }} Books</p>
        </div>
        {% endfor %}
    </div>
</section>

<!-- Recently Added Section -->
<section class="mb-5">
    <h2 class="section-title">Recently Added</h2>
    <div class="books-grid">
        {% for book in recent_books %}
        <div class="book-card">
            <div class="book-badge new">New</div>
            <img src="{{ book.image }}" alt="{{ book.title }}">
            <h3>{{ book.title }}</h3>
            <p class="author">{{ book.author }}</p>
            <div class="book-meta">
                <span class="badge bg-primary">{{ book.genre }}</span>
                <span class="date">Added {{ book.added_date }}</span>
            </div>
        </div>
        {% endfor %}
    </div>
</section>
{% endblock %}